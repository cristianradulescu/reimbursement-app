<form id="editDocumentForm" action="" method="POST">
  <div class="btn-group btn-group-sm" role="group" aria-label="Navigation">
    <a class="btn btn-secondary" href="/documents" title="Back to documents">
      <span data-feather="chevron-left"></span>
    </a>
    <a class="btn btn-secondary" href="/documents/show/{{document.id}}" title="Show document">
      <span data-feather="eye"></span>
    </a>
    <button type="submit" class="btn btn-primary">
      <span data-feather="save"></span>
    </button>
  </div>
  <hr />

  <fieldset class="form-group">
    <legend class="h5">Document #{{document.id}}</legend>
    <div class="form-group row">
      <label for="employeeSelect" class="col-md-2 col-form-label">Employee</label>
      <div class="col-md-4">
        {{> select_widget widgetId="employeeSelect" widgetName="document[employee_id]" optionsLoop=formData.employees required=true}}
      </div>
    </div>
    <div class="form-group row">
      <label for="documentStatusSelect" class="col-md-2 col-form-label">Status</label>
      <div class="col-md-4">
        {{> select_widget widgetId="documentStatusSelect" widgetName="document[status_id]" optionsLoop=formData.documentStatuses required=true}}
      </div>
    </div>
  </fieldset>

  <!-- Travel -->
  {{#if document.isTravel}}
    <fieldset class="form-group">
      <legend class="h6">Travel details</legend>
      <div class="form-group row">
        <label for="travelPurposeSelect" class="col-md-2 col-form-label">Purpose</label>
        <div class="col-md-4">
          {{> select_widget widgetId="travelPurposeSelect" widgetName="travel[purpose_id]" optionsLoop=formData.travelPurposes required=true}}
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDestinationSelect" class="col-md-2 col-form-label">Destination</label>
        <div class="col-md-4">
          {{> select_widget widgetId="travelDestinationSelect" widgetName="travel[destination_id]" optionsLoop=formData.travelDestinations required=true}}
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDateStartInput" class="col-md-2 col-form-label">Date start</label>
        <div class="col-md-4">
          <input type="date" class="form-control form-control-sm" id="travelDateStartInput" 
            name="travel[date_start]" required="required" value="{{document.travel.date_start}}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDateEndInput" class="col-md-2 col-form-label">Date end</label>
        <div class="col-md-4">
          <input type="date" class="form-control form-control-sm" id="travelDateEndInput" 
            name="travel[date_end]" required="required"  value="{{document.travel.date_end}}" />
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDepartureLeaveTimeInput" class="col-md-2 col-form-label">Departure leave</label>
        <div class="col-md-4">
          {{> datetime_local_widget widgetId="travelDepartureLeaveTimeInput" widgetName="travel[departure_leave_time]" widgetValue=document.travel.departure_leave_time required=true}}
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDestinationArrivalTimeInput" class="col-md-2 col-form-label">Destination arrival</label>
        <div class="col-md-4">
          {{> datetime_local_widget widgetId="travelDestinationArrivalTimeInput" widgetName="travel[destination_arrival_time]" widgetValue=document.travel.destination_arrival_time required=true}}
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDestinationLeaveTimeInput" class="col-md-2 col-form-label">Destination leave</label>
        <div class="col-md-4">
          {{> datetime_local_widget widgetId="travelDestinationLeaveTimeInput" widgetName="travel[destination_leave_time]" widgetValue=document.travel.destination_leave_time required=true}}
        </div>
      </div>
      <div class="form-group row">
        <label for="travelDepartureArrivalTimeInput" class="col-md-2 col-form-label">Departure arrival</label>
        <div class="col-md-4">
          {{> datetime_local_widget widgetId="travelDepartureArrivalTimeInput" widgetName="travel[departure_arrival_time]" widgetValue=document.travel.departure_arrival_time required=true}}
        </div>
      </div>
    </fieldset>
  {{/if}}
  <!-- /Travel -->

  <!-- Reimbursement -->
  {{#if document.isReimbursement}}
    {{#each document.reimbursements}}
      <fieldset class="form-group">
        <legend class="h6">Reimbursement #{{id}}</legend>
        <div class="form-group row">
          <label for="reimbursementEmployeeSelect" class="col-md-2 col-form-label">Employee</label>
          <div class="col-md-4">
            <select class="form-control form-control-sm" id="reimbursementEmployeeSelect" name="reimbursement[{{id}}][employee_id]" required="required">
              {{#each ../formData.employees}}
                <option value="{{id}}" {{#is id ../employee_id}}selected="selected"{{/is}}>{{fullName}}</option>
              {{/each}}
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label for="reimbursementTypeSelect" class="col-md-2 col-form-label">Type</label>
          <div class="col-md-4">
            <select class="form-control form-control-sm" id="reimbursementTypeSelect" name="reimbursement[{{id}}][type_id]" required="required">
              {{#each ../formData.reimbursementTypes}}
              <option value="{{id}}" {{#is id ../type_id}}selected="selected"{{/is}}>{{name}}</option>
              {{/each}}
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label for="reimbursementValueInput" class="col-md-2 col-form-label">Value</label>
          <div class="col-md-4">
            <input type="number" class="form-control form-control-sm" id="reimbursemnetValueInput" 
              name="reimbursement[{{id}}][value]" required="required" value="{{value}}">
          </div>
        </div>
        <div class="form-group row">
          <label for="reimbursementValueInput" class="col-md-2 col-form-label">Date</label>
          <div class="col-md-4">
            <input type="date" class="form-control form-control-sm" id="reimbursementDateInput" 
              name="reimbursement[{{id}}][date]" required="required"  value="{{date}}">
          </div>
        </div>
        <div class="form-group row">
          <label for="reimbursementDocumentNumberInput" class="col-md-2 col-form-label">Number</label>
          <div class="col-md-4">
            <input type="text" class="form-control form-control-sm" id="reimbursementDocumentNumberInput" 
              name="reimbursement[{{id}}][number]" required="required"  value="{{number}}">
          </div>
        </div>
      </fieldset>
    {{/each}}
  {{/if}}
  <!-- /Reimbursement -->
</form>